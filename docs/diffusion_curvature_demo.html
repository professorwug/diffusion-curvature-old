---

title: Diffusion Curvature Explained


keywords: fastai
sidebar: home_sidebar



nb_path: "diffusion_curvature_demo.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: diffusion_curvature_demo.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>One proxy for pointwise curvatures on a graph is the laziness of random walks emanating from each point. Intuitively, in spaces of positive curvature, the neighbors of neighboring points have more neighbors in common; stepping randomly between them will thus return to the starting point more often than in regions of lower curvature.</p>
<p>This can be measured by a neighborhood volume over t-step diffusion values.</p>
<p>For each point, we diffuse a point mass for $t$ steps.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can estimate the laziness of the diffusion by measuring the amount of "mass" which remains within the k-nearest neighbors, i.e. the probability that a random walk will land within the k-neighborhood.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">P_thresholded</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">nonzero</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(array([   1,   55,  195,  328,  753,  857, 1301, 1361, 1423, 1577, 1579,
        1635, 1903, 1909, 1931, 1975, 2182, 2219, 2317, 2421]),)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The diffusion curvature can be formulated as a graph volume comparison weighted by diffusion probabilities, in which we consider the summed diffusion probabilities within the k neighborhood as the volume of a ball in this region. In analog to the Gromov Bishop volume comparison theorem, comparing these volumes across different regions of the graph yields indicators of relative curvature.</p>

</div>
</div>
</div>
</div>
 

